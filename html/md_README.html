<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mdio-cpp: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="favicon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mdio-cpp
   &#160;<span id="projectnumber">latest</span>
   </div>
   <div id="projectbrief">C++, Cloud native, scalable storage engine for various types of energy data.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><div> <img src="https://raw.githubusercontent.com/TGSAI/mdio.github.io/gh-pages/assets/images/mdio.png" alt="MDIO" class="logo" width="200" height="auto" style="margin-top:10px;margin-bottom:10px" class="inline"/> </div><p>[<img src="https://img.shields.io/badge/License-Apache%202.0-blue.svg" alt="License" style="pointer-events: none;" class="inline"/>][license-url]</p>
<p><a href="https://github.com/TGSAI/mdio-cpp/actions/workflows/cmake_build.yaml"><img src="https://github.com/TGSAI/mdio-cpp/actions/workflows/cmake_build.yaml/badge.svg" alt="C/C++ build" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/TGSAI/mdio-cpp/actions/workflows/clang-format-check.yml"><img src="https://github.com/TGSAI/mdio-cpp/actions/workflows/clang-format-check.yml/badge.svg" alt="clang-format check" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/TGSAI/mdio-cpp/actions/workflows/codeql-analysis.yml"><img src="https://github.com/TGSAI/mdio-cpp/actions/workflows/codeql-analysis.yml/badge.svg" alt="CodeQL Analysis" style="pointer-events: none;" class="inline"/></a></p>
<p>Welcome to <b>MDIO</b> - a descriptive format for energy data that is intended to reduce storage costs, improve the efficiency of I/O and make energy data and workflows understandable and reproducible.</p>
<p><b>MDIO</b> schema definitions <a href="https://mdio-python.readthedocs.io/en/v1-new-schema/data_models/version_1.html">here.</a> <b>MDIO</b> C++ API documentation <a href="https://tgsai.github.io/mdio-cpp/html/index.html">here.</a></p>
<h1><a class="anchor" id="autotoc_md24"></a>
Requied tools</h1>
<ul>
<li>CMake 3.24 <em>or better</em></li>
<li>A C++17 compiler<ul>
<li>GCC 11 <em>or better</em></li>
<li>Clang 14 <em>or better</em></li>
</ul>
</li>
<li>ASM_NASM compiler<ul>
<li>NASM version 2.15.05</li>
</ul>
</li>
<li>Python 3.9 <em>or better</em></li>
</ul>
<h2><a class="anchor" id="autotoc_md25"></a>
Optional tools (Code quality control)</h2>
<ul>
<li>clang-format version 18</li>
<li>cpplint version 1.6.1</li>
</ul>
<h2><a class="anchor" id="autotoc_md26"></a>
Optional tools (Integration)</h2>
<ul>
<li>Python module xarray version 2024.6.0 <em>or better</em></li>
<li>Python module zarr version 2.18.2 <em>or better</em></li>
</ul>
<h1><a class="anchor" id="autotoc_md27"></a>
Getting Started</h1>
<p>First clone the <b>MDIO</b> v1.0 library:</p>
<p>This project uses CMake for the build and requires CMake 3.24 <em>or better</em> to build. The project build is configured to use the fetch and install it 3rd party dependencies. To build MDIO, clone the repos and create a build directory: </p><div class="fragment"><div class="line">$ mkdir build</div>
<div class="line">$ cd build</div>
<div class="line"># NOTE: &quot;CMake Deprecation Warning at build/_deps/nlohmann_json_schema_validator-src/CMakeLists.txt:1&quot; can safely be ignored</div>
<div class="line">$ cmake ..</div>
</div><!-- fragment --><p> Each <b>MDIO</b> target has the prefix "mdio" in its name, to build the tests run the following commands from the build directory: </p><div class="fragment"><div class="line">$ make -j32 mdio_acceptance_test</div>
</div><!-- fragment --><p> The acceptance test will validate that the MDIO/C++ data can be read by Python's Xarray. To ensure that the test passes, make sure your Python environment has Xarray install, and run the acceptance test: </p><div class="fragment"><div class="line">$ cd build/mdio/</div>
<div class="line">$ ./mdio_acceptance_test</div>
</div><!-- fragment --><p> The dataset and variables have their own test suite too: </p><div class="fragment"><div class="line">$ make -j32 mdio_variable_test</div>
<div class="line">$ make -j32 mdio_dataset_test</div>
</div><!-- fragment --><p> Each <b>MDIO</b> library will provide an associated cmake alias, e.g. mdio::mdio which can be use to link against <b>MDIO</b> in your project.</p>
<h2><a class="anchor" id="autotoc_md28"></a>
API Documentation</h2>
<p><b>MDIO</b> API documentation is currently provided with the <b>MDIO</b> library. </p><div class="fragment"><div class="line">open mdio/docs/html/index.html</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md29"></a>
Key Features</h2>
<ul>
<li><b>Standardized Schema Compliance</b>: <b>MDIO</b> enforces a strict adherence to a standardized schema for all data inputs, ensuring consistency, reliability, and ease of data interoperability.</li>
<li><b>Cloud and On-Premise Storage</b>: <b>MDIO</b> is intended to efficiently support energy datasets for local filesystems and HPC, and cloud object stores. Currently <b>MDIO</b> supports cloud storage with GCS and S3.</li>
<li><b>Xarray and Python MDIO Compatibility</b>: We prioritize compatibility with popular data analysis tools like Xarray and Python <b>MDIO</b>, allowing for straightforward integration with your existing workflows.</li>
<li><b>High Scalability and Performance</b>: Scalable asynchronous and concurrent I/O and tensor operations to handle complex and large energy datasets with ease, ensuring that your data processing remains fast and efficient, even as your data grows.</li>
</ul>
<h2><a class="anchor" id="autotoc_md30"></a>
Project Vision</h2>
<p>Our vision is to provide a tool that not only simplifies the management of energy data but also enhances the quality and depth of energy analysis. By keeping units, dimensions, and other critical metadata with the data, <b>MDIO</b> ensures that every dataset is not just a collection of numbers but a rich, self-explaining narrative of energy insights.</p>
<h2><a class="anchor" id="autotoc_md31"></a>
Target Audience</h2>
<p><b>MDIO</b> is built for a wide range of users, including:</p>
<ul>
<li><b>New Energy Solution</b>: WRF wind data models and associated 2-d attributes.</li>
</ul>
<h3><a class="anchor" id="autotoc_md32"></a>
Project Roadmap</h3>
<h4><a class="anchor" id="autotoc_md33"></a>
Phase 1: Adoption, bug Fixes and stability</h4>
<ul>
<li><b>Goal</b>: Improve the reliability and stability of the tool.</li>
<li><b>Milestones</b>:<ul>
<li><span style="color:green">✔</span> Complete critical updates to test suites.</li>
<li><span style="color:green">✔</span> Address issues causing undefined behavior or potential crashes.</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md34"></a>
Phase 2: I/O Performance Optimization</h4>
<ul>
<li><b>Goal</b>: Enhance the efficiency and performance of the tool.</li>
<li><b>Milestones</b>:<ul>
<li>Optimize high-impact areas identified through benchmarking and real world usage.</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md35"></a>
Phase 3: Cost Reduction and Efficiency</h4>
<ul>
<li><b>Goal</b>: Reduce operational costs and improve efficiency.</li>
<li><b>Milestones</b>:<ul>
<li>Build dataset factory methods for common use cases.</li>
<li>Streamline data management processes to reduce storage or compute costs (e.g. "**MDIO** v0.1", "SEGY", "SEP" I/O).</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md36"></a>
Phase 4: Feature Completeness and Compliance</h4>
<ul>
<li><b>Goal</b>: Ensure feature completeness and compliance with standards.</li>
<li><b>Milestones</b>:<ul>
<li>Complete implementation of deferred features (e.g., "numpy slice semantics").</li>
</ul>
</li>
</ul>
<h4><a class="anchor" id="autotoc_md37"></a>
Phase 5: Process Optimization</h4>
<ul>
<li><b>Milestones</b>:<ul>
<li>Analyze how clients are using <b>MDIO</b> and articulate bottlenecks and pain points.</li>
<li>Improve documentation and examples to reduce the cognitive load of adopting <b>MDIO</b>.</li>
<li>Resolve performance critical issues (runtime or storage costs).</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md38"></a>
(dependency) Tensorstore</h2>
<p>We use the <a href="https://google.github.io/tensorstore/">tensorstore</a> library to provide native a C/C++ interface to ZArr. If you're familiar with the Python DASK library, tensorstore has very similar semantics when it comes to manipulating data and creating asynchronous execution.</p>
<p>Tensorstore is used under an Apache 2.0 license.</p>
<p>Relevant features of the Tensorstore library are:</p>
<ol type="1">
<li>Read/write ZArr data in memory, from disk, with GCFS buckets (Google file system).</li>
<li>Encode/decode data with some basic data compression BLOCS, zlib, lz4, zstd and jpeg.</li>
<li>Concurrency; multi-threaded ACID reads/writes.</li>
<li>Objects designed with async futures/promises architecture.</li>
</ol>
<ol type="1">
<li>Logical array slicing operations.</li>
<li>Basic iterators.</li>
<li>Chunk aligned iterators.</li>
<li>Informative error messages and exception handling.</li>
</ol>
<p>Nice to have features of Tensorstore:</p>
<ol type="1">
<li>A <b>companion</b> Python library.</li>
<li>Transactions, used to stage groups of modifications.</li>
<li>Caching.</li>
<li>Progress monitoring.</li>
<li>Abstraction over the Tensorstore "driver", read generic array data from buckets. <br  />
</li>
</ol>
<h2><a class="anchor" id="autotoc_md39"></a>
(dependency) Patrick Boettcher's JSON schema validator</h2>
<p>We use the <a href="https://github.com/pboettch/json-schema-validator">json-schema-validator</a> library to validate <b>MDIO</b> schemas against the <a href="https://mdio-python.readthedocs.io/en/v1-new-schema/data_models/version_1.html">schema definitions</a>.</p>
<p>This library is used under the <a href="https://github.com/pboettch/json-schema-validator?tab=License-1-ov-file#readme">MIT</a> license.</p>
<h2><a class="anchor" id="autotoc_md40"></a>
Authors</h2>
<ul>
<li><b>Ben Lasscock</b> - <em>Initial Work</em> - <a href="https://github.com/blasscoc">blasscoc</a></li>
<li><b>Brian Michell</b> - <em>Initial Work</em> - <a href="https://github.com/BrianMichell">BrianMichell</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
